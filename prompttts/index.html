<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.66.0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/f8.4/styles/github.min.css">
<link rel="stylesheet" href="../css/normalize.css">
<link rel="stylesheet" href="../css/skeleton.css">
<link rel="stylesheet" href="../css/custom.css">
<link rel="alternate" href="index.xml" type="application/rss+xml" title="Speech Research">
<link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
<title>PromptTTS: controllable text-to-speech with text descriptions - Speech Research</title>
</head>
<body>

<div class="container">

	<header role="banner">
	</header>
	<main role="main">
		<article itemscope itemtype="https://schema.org/BlogPostinCg">
            <h1 class="entry-title" itemprop="headline">PromptTTS: controllable text-to-speech with text descriptions</h1>

			<section itemprop="entry-text">
				<br>

<h2 id="abstract">Abstract</h2>
<p> Using a text description as prompt to guide the generation of text or images (e.g., GPT-3 or DALLE-2) has drawn wide attention recently. Beyond text and image generation, in this work, we explore the possibility of utilizing text descriptions to guide speech synthesis. Thus, we develop a text-to-speech (TTS) system (dubbed as PromptTTS) that takes a prompt with both style and content descriptions as input to synthesize the corresponding speech. Specifically, PromptTTS consists of a style encoder and a content encoder to extract the corresponding representations from the prompt, and a speech decoder to synthesize speech according to the extracted style and content representations. Compared with previous works in controllable TTS that require users to have acoustic knowledge to understand style factors such as prosody and pitch, PromptTTS is more user-friendly since text descriptions are the most natural way to express speech style (e.g., ''A lady whispers to her friend slowly''). Given that there is no TTS dataset with prompts, we construct and release a dataset containing prompts with style and content information and the corresponding speech. Experiments show that PromptTTS can generate speech with precise style control and high speech quality. Audio samples and our dataset are publicly available.</p>

<h2 id="dataset">Dataset</h2>
<p> Given that there is no TTS datasets with prompts, we construct and release a dataset called PromptSpeech which consists of speech and the corresponding prompts. We synthesize speech with 5 different style factors (gender, pitch, speaking speed, volume, and emotion) from a commercial TTS <a href="https://azure.microsoft.com/en-us/services/cognitive-services/text-to-speech/#overview">API</a>. The emotion factor has 5 categories and the gender factor has 2 categories. For the rest of style factors, we sort speech according to the value of style factors and divide them into 3 categories (high/normal/low) according to the proportion. Considering that the style of speech can be described in nature language, we ask experts to write style prompts for each category of style factors. To further augment the style prompts, we utilize SimBERT to generate more style prompts with similar semantics. The speech and the corresponding prompt describing the same style and content are used as paired data for our task.</p>
<p> Since there could be a gap between the synthesized speech and the real speech, besides the dataset mentioned above (denoted as synthesized version), we also construct a dataset (denoted as real version) with real speech data from LibriTTS by similar construction process. Due to the lack of emotion in LibriTTS, the real version of PromptSpeech only have 4 style factors.</p>

<h3 id="promptspeech">PromptSpeech</h3>
<p> You can download the both versions of PromptSpeech from the table below and the number in the table corresponds to the amount of downloaded data.</p>
<table><thead>
<tr>
<th style="text-align: center">Version</th>
<th style="text-align: center">Training Prompt</th>
<th style="text-align: center">Test Prompt</th>
<th style="text-align: center">Speech</th>
</tr></thead><tbody>
<tr>
<td>Synthesized</td>
<td><a href="../dataset/promptspeech/Synthesized_training.zip">155092</a></td>
<td><a href="../dataset/promptspeech/Synthesized_test.zip">5032</a></td>
<td><a href="https://msramldl.blob.core.windows.net/modelrelease/PromptTTS/EMO.zip">160124</a></td>
</tr>
<tr>
<td>Real</td>
<td><a href="../dataset/promptspeech/Real_training.zip">26588</a></td>
<td><a href="../dataset/promptspeech/Real_test.zip">1305</a></td>
<td><a href="http://www.openslr.org/60/">27893</a></td>
</tr>
</tbody>
</table>

<h2 id="audio samples">Audio Samples</h2>
<p> The following part is the audio samples on PromptSpeech from PromptTTS and the two-stage baseline system.</p>

<h3 id="synthesized version">Synthesized Version</h3>

<h4 id="gender_e">Gender</h4>
<p><em>Ask a <b>boy</b> to speak with normal speed and volume: Tom, the Piper's Son.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_e/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_e/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>I need a <b>woman</b> with normal voice to talk: Tom, the Piper's Son.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_e/PromptTTS_1.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_e/Two-stage_1.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="pitch_e">Pitch</h4>
<p><em>Please let a <b>lady</b> speak for me and she has a very <b>low contralto</b> voice: Tom, the Piper's Son.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_e/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_e/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>The <b>girl's</b> voice is very <b>sharp</b>, but her speaking speed is the same as that of ordinary people: Tom, the Piper's Son.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_e/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_e/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="speaking speed_e">Speaking Speed</h4>
<p><em>My <b>husband</b> said <b>slowly</b>: Tom, Tom, the piper's son, Stole a pig and away he run; The pig was eat and Tom was beat And Tom ran crying down the street.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_e/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_e/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em><b>He</b> <b>raised his speaking speed</b> and read: Tom, Tom, the piper's son, Stole a pig and away he run; The pig was eat and Tom was beat And Tom ran crying down the street.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_e/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_e/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="volume_e">Volume</h4>
<p><em>Could you please help me generate a <b>manlike</b> voice to talk with me in a <b>low voice</b>: Tom, Tom, the piper's son, Stole a pig and away he run; The pig was eat and Tom was beat And Tom ran crying down the street.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_e/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_e/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>I need a <b>loud</b> <b>male</b> voice: Tom, Tom, the piper's son, Stole a pig and away he run; The pig was eat and Tom was beat And Tom ran crying down the street.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_e/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_e/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="emotion_e">Emotion</h4>
<p><em>This <b>madam</b> talks to me with normal speed and volume : There was not a worse vagabond in Shrewsbury than old Barney the piper.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>Look! <b>She</b> <b>yelled</b> at the child : There was not a worse vagabond in Shrewsbury than old Barney the piper.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/PromptTTS_1.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/Two-stage_1.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>Please find a <b>girl</b> to <b>whisper</b> with regular volume and speaking speed: There was not a worse vagabond in Shrewsbury than old Barney the piper.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>I need a <b>womanlike</b> voice to say <b>cheerfully</b>: There was not a worse vagabond in Shrewsbury than old Barney the piper.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/PromptTTS_3.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/Two-stage_3.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>The <b>girl</b> <b>cried</b> to her friends: There was not a worse vagabond in Shrewsbury than old Barney the piper.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/PromptTTS_4.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Emotion_e/Two-stage_4.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h3 id="real version">Real Version</h3>

<h4 id="gender_p">Gender</h4>
<p><em>Generate a <b>male</b> voice, please: He never did any work except to play the pipes, and he played so badly that few pennies ever found their way into his pouch.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_p/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_p/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>That beautiful <b>girl</b> says: He never did any work except to play the pipes, and he played so badly that few pennies ever found their way into his pouch.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_p/PromptTTS_1.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Gender_p/Two-stage_1.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="pitch_p">Pitch</h4>
<p><em>Please find a <b>bass</b> <b>boy</b> with moderate speaking speed and volume: He never did any work except to play the pipes, and he played so badly that few pennies ever found their way into his pouch.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_p/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_p/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>Synthesize a <b>male</b> voice with a very <b>squeaky</b> voice: He never did any work except to play the pipes, and he played so badly that few pennies ever found their way into his pouch.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_p/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Pitch_p/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="speaking speed_p">Speaking Speed</h4>
<p><em><b>Her</b> <b>rate of speaking was so slow</b> that I was a little impatient: Tom did not like to steal, but he had no one to teach him to be honest, and so, under his father's guidance, he fell into bad ways.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_p/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_p/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em><b>She</b> <b>increased her speed</b> and said: Tom did not like to steal, but he had no one to teach him to be honest, and so, under his father's guidance, he fell into bad ways.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_p/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Speed_p/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

<h4 id="volume_p">Volume</h4>
<p><em>Please generate a <b>female</b> voice with <b>low voice</b> for me: Tom did not like to steal, but he had no one to teach him to be honest, and so, under his father's guidance, he fell into bad ways.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_p/PromptTTS_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_p/Two-stage_0.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>
<p><em>We need that <b>lady</b> to <b>increase her volume</b>: Tom did not like to steal, but he had no one to teach him to be honest, and so, under his father's guidance, he fell into bad ways.</em></p>
<table>
<thead>
<tr>
<th style="text-align: center">PromptTTS</th>
<th style="text-align: center">Two-stage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_p/PromptTTS_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
<td style="text-align: center"><audio controls="controls" ><source src="../audio/Volume_p/Two-stage_2.wav" autoplay/>Your browser does not support the audio element.</audio></td>
</tr>
</tbody>
</table>

			</section>
		</article>
	</main>

</div>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-139981676-1', 'auto');
	ga('send', 'pageview');
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



<script type="text/x-mathjax-config">
     MathJax.Hub.Config({
         HTML: ["input/TeX","output/HTML-CSS"],
         TeX: {
                Macros: {
                         bm: ["\\boldsymbol{#1}", 1],
                         argmax: ["\\mathop{\\rm arg\\,max}\\limits"],
                         argmin: ["\\mathop{\\rm arg\\,min}\\limits"]},
                extensions: ["AMSmath.js","AMSsymbols.js"],
                equationNumbers: { autoNumber: "AMS" } },
         extensions: ["tex2jax.js"],
         jax: ["input/TeX","output/HTML-CSS"],
         tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true },
         "HTML-CSS": { availableFonts: ["TeX"],
                       linebreaks: { automatic: true } }
     });
 </script>

 <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
       }
     });
 </script>

 <script type="text/javascript" async
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
 </script>




</body>
</html>
